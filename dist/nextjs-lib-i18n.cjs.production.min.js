"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("i18next")),r=e(require("urijs")),n=require("react-i18next"),a=require("next/router"),u=e(require("react")),o=e(require("next/link"));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=function(e,t){void 0===t&&(t=!0);var n=new r(e);return n.path().endsWith("/")?t?n.directory():n.path():t?n.path():n.path()+"/"},c=function(e){var t=e.split("-"),r=t[0],n=t[1];return new RegExp("^/("+r+"|"+r.toUpperCase()+")-("+n+"|"+n.toUpperCase()+")(/?)")},i=function(e,t){return Object.values(t).find((function(t){return c(t).test(e)}))},p=function(e,t){var r=i(e,t);return r?e.replace(c(r),"/"):e},f=function(e,t){var n=new r(e);return n.pathname(p(n.pathname(),t)).readable()},h=Symbol("i18nextResource"),d=function(){function e(e,r){var u,o=this;this.supportedLocales=e,this.deafultLocale=r,this.nsCounter=0,this.useChangeLocale=function(){var e=a.useRouter();return function(t){var r=p(e.asPath,o.supportedLocales);e.push(e.pathname,"/"+t+r)}},this.useCurrentLanguage=function(){return t.language},this.useLocaleCanonicalPath=function(e){var t,r=(void 0===e?{reserveDefaultLocalePath:!1}:e).reserveDefaultLocalePath,n=a.useRouter(),u=o.useCurrentLanguage();return t=u!==o.deafultLocale||r?i(n.asPath,o.supportedLocales)?n.asPath:"/"+u+n.asPath:p(n.asPath,o.supportedLocales),l(t)},this.useResource=function(e){if(!e[h])throw Error("Resource must be created using createResource function");var t=o.useCurrentLanguage(),r=n.useTranslation(e[h]).t;return{t:function(e,n){return r(e,Object.assign({},s({},n),{lng:t}))}}},this.createResource=function(e){return e[h]=(o.nsCounter++).toString(),Object.entries(e).forEach((function(r){var n=r[0],a=r[1];t.hasResourceBundle(n,e[h])||t.addResourceBundle(n,e[h],a,!0,!0)})),e},t.use(n.initReactI18next).init({resources:(u={},u[r]={},u),lng:r,supportedLngs:Object.values(e),partialBundledLanguages:!0,lowerCaseLng:!0,fallbackLng:Object.values(e),interpolation:{escapeValue:!1}})}return e.init=function(t){return new e(t.supportedLocales,t.defaultLocale)},e}(),g="undefined"==typeof window,v=u.createContext({locale:"",i18n:null}),L=v.Provider;exports.I18Next=d,exports.Link=function(e){var t=e.children,r=e.href,n=e.as,a=function(e,t){if(null==e)return{};var r,n,a={},u=Object.keys(e);for(n=0;n<u.length;n++)t.indexOf(r=u[n])>=0||(a[r]=e[r]);return a}(e,["children","href","as"]),s=u.useContext(v).i18n,l=s.useCurrentLanguage();return u.createElement(o,Object.assign({href:r,as:l===s.deafultLocale?null!=n?n:r:"/"+l+(null!=n?n:r)},a),t)},exports.LocaleContext=v,exports.LocaleProvider=function(e){var r=e.initialLocale,n=e.children,o=e.i18n,s=a.useRouter(),l=u.useMemo((function(){var e;return g?r:null!=(e=i(s.asPath,o.supportedLocales))?e:r}),[s]);return t.language=l,u.createElement(L,{value:{locale:l,i18n:o}},n)},exports._LocaleProvider=L,exports.getAllViableLocaleRegex=c,exports.getLocaleFromAppContext=function(e,t){var r,n=(e.req?e.req.headers:{locale:t}).locale;return null!=(r=null==n?void 0:n.toString())?r:t},exports.getLocaleOmmitedPath=p,exports.getLocaleOmmitedUrl=f,exports.getMatchLocaleByPath=i,exports.getNormalizeTralingSlashPath=l,exports.localeParser=function(e){var t=e.supportedLocales,r=e.defaultLocale;return function(e,n,a){e.headers=Object.assign({},e.headers,{locale:r});try{var u=i(e.path,t);u&&(e.headers=Object.assign({},e.headers,{locale:u}),e.url=f(e.url,t))}catch(e){console.error(e)}finally{a()}}};
//# sourceMappingURL=nextjs-lib-i18n.cjs.production.min.js.map
